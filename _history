{"entries":[{"timestamp":1747811989242,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables>"],[1,"www.w3.org/1999/xhtml\">\n  "],[0,"<blo"]],"start1":12,"start2":12,"length1":70,"length2":37},{"diffs":[[0,"art\""],[-1," x=\"20\" y=\"20\""],[0,"></b"]],"start1":67,"start2":67,"length1":22,"length2":8},{"diffs":[[0,"</block>"],[1,"\n  "],[0,"<block t"]],"start1":72,"start2":72,"length1":16,"length2":19},{"diffs":[[0,"ver\""],[-1," x=\"225\" y=\"20\""],[0,"></b"]],"start1":107,"start2":107,"length1":23,"length2":8},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"basic.forever(function () {\n\t\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":33,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"oled_cpe.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\""],[1,"\n    ],\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":215,"start2":215,"length1":68,"length2":44}]},{"type":"added","filename":"oled_cpe.ts","value":"//% weight=20 color=#FFA500 icon=\"O\" block=\"OLED CPE\"\nnamespace OLED_CPE {\n    let x = 0\n    let y = 0\n    let buf: Buffer = pins.createBuffer(1024)\n\n    function cmd(c: number) {\n        pins.i2cWriteNumber(60, 0, NumberFormat.UInt8BE)\n        pins.i2cWriteNumber(60, c, NumberFormat.UInt8BE)\n    }\n\n    function sendData() {\n        pins.i2cWriteNumber(60, 0x40, NumberFormat.UInt8BE)\n        pins.i2cWriteBuffer(buf)\n    }\n\n    //% blockId=\"OLED_CPE_SHOWSTRING\" block=\"OLED show string %s\"\n    //% weight=100 blockGap=8\n    //% parts=OLED_CPE trackArgs=0\n    export function showString(s: string) {\n        let i = 0\n        while (i < s.length) {\n            buf[i] = s.charCodeAt(i)\n            i++\n        }\n        sendData()\n    }\n\n    //% blockId=\"OLED_CPE_SHOWNUMBER\" block=\"OLED show number %n\"\n    //% weight=90 blockGap=8\n    //% parts=OLED_CPE\n    export function showNumber(n: number) {\n        showString(n.toString())\n    }\n\n    //% blockId=\"OLED_CPE_PIXEL\" block=\"set pixel at x %x|y %y|color %color\"\n    //% weight=70 blockGap=8\n    //% parts=OLED_CPE trackArgs=0\n    export function pixel(x: number, y: number, color: number = 1) {\n        let index = (x + y * 128) >> 3\n        let bit = y % 8\n        if (color)\n            buf[index] |= (1 << bit)\n        else\n            buf[index] &= ~(1 << bit)\n        sendData()\n    }\n\n    //% blockId=\"OLED_CPE_CLEAR\" block=\"clear OLED screen\"\n    //% weight=60 blockGap=8\n    //% parts=OLED_CPE\n    export function clear() {\n        for (let i = 0; i < 1024; i++) {\n            buf[i] = 0\n        }\n        sendData()\n    }\n\n    //% blockId=\"OLED_CPE_INIT\" block=\"initialize OLED\"\n    //% weight=110 blockGap=8\n    //% parts=OLED_CPE\n    export function init() {\n        cmd(0xAE)\n        cmd(0xD5)\n        cmd(0x80)\n        cmd(0xA8)\n        cmd(0x3F)\n        cmd(0xD3)\n        cmd(0x00)\n        cmd(0x40)\n        cmd(0x8D)\n        cmd(0x14)\n        cmd(0x20)\n        cmd(0x00)\n        cmd(0xA1)\n        cmd(0xC8)\n        cmd(0xDA)\n        cmd(0x12)\n        cmd(0x81)\n        cmd(0xCF)\n        cmd(0xD9)\n        cmd(0xF1)\n        cmd(0xDB)\n        cmd(0x40)\n        cmd(0xA4)\n        cmd(0xA6)\n        cmd(0xAF)\n        clear()\n    }\n}\n"}]},{"timestamp":1747812630735,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"oled_cpe.ts","patch":[{"diffs":[[0,"buf)"],[-1,"let myOLED = new OLEDCPE(0x3C, DigitalPin.P20, DigitalPin.P19)\n"],[0,"\n   "]],"start1":415,"start2":415,"length1":71,"length2":8}]}]},{"timestamp":1747812871049,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"art\""],[-1," id=\"JSZ*CaDnXfA_lNh_rv^h\""],[0," x=\""]],"start1":100,"start2":100,"length1":34,"length2":8},{"diffs":[[0,"ver\""],[-1," id=\"2A0CPX^r^D=UZP6NxwQ1\""],[0," x=\""]],"start1":151,"start2":151,"length1":34,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":246,"start2":246,"length1":52,"length2":8}]},{"type":"edited","filename":"oled_cpe.ts","patch":[{"diffs":[[0,"OLED"],[-1,"_"],[1," "],[0,"CPE\""],[-1," icon=\"\\uf085\""],[0,"\nnam"]],"start1":44,"start2":44,"length1":27,"length2":13},{"diffs":[[0,"    "],[-1,"OLED_CPE.init();\n       "],[1,"pins.i2cWriteBuffer(buf)let myOLED = new"],[0," OLED"],[-1,"_"],[0,"CPE"],[-1,".showString(\"Hello!\");"],[1,"(0x3C, DigitalPin.P20, DigitalPin.P19)"],[0,"\n\n  "]],"start1":391,"start2":391,"length1":63,"length2":94}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1747811989241,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"OLEd\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}}],"shares":[],"lastSaveTime":1747813403636}